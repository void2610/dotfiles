---
name: game-idea-generator-with-loop
description: >
  ゲームのアイデアを自律的に大量生成し、比較・評価・淘汰を繰り返して最良のアイデアを選び出すスキル。
  ユーザーが明示的に「game-idea-generator-with-loopを起動して」と指示すると発動する。
  ユーザーが制約条件（ジャンル、プラットフォーム、テーマ等）を与えると、
  それに基づいて数十のアイデアを生成→評価→淘汰のループを自動で回し、
  思考の全過程をMarkdownファイルに記録する。
  ゲームコンセプトのアイデア出しに特化。
---

# Game Idea Generator

ゲームアイデアを自律的に大量生成・比較・淘汰し、最良のアイデアを導き出すスキル。
全思考過程はMarkdownに記録される。

## 概要

このスキルは以下のループを自律的に回す：

```
[制約収集] → [大量生成] → [評価・スコアリング] → [淘汰・選抜] → [交配・突然変異] → [再評価] → ... → [最終選出]
```

進化アルゴリズムのメタファーで動作する。アイデアは「個体」、評価基準は「適応度」、
良いアイデア同士の要素結合は「交配」、ランダムな変化は「突然変異」。

---

## Phase 0: 制約収集（Constraint Gathering）

ユーザーから以下の情報を収集する。不明な項目がなくなるまで質問を繰り返す。

| 項目 | 説明 |
|------|------|
| ジャンル制約 | 特定ジャンルの指定/除外 |
| プラットフォーム | PC/モバイル/Web/コンソール等 |
| 開発規模 | 個人/小規模チーム/中規模 |
| テーマ/キーワード | 含めたい要素 |
| 世代数 | ループを何世代回すか |
| 1世代あたりの生成数 | 各世代で生成するアイデア数 |
| 生存数 | 各世代で次に残す数 |

### ワークスペース初期化

ループ開始前に以下のディレクトリ構造を作成する：

```
game-ideas-{timestamp}/
├── constraints.md          # 制約条件の記録
├── generation-log.md       # 全世代の生成ログ（追記式）
├── evaluation-log.md       # 全世代の評価ログ（追記式）
├── hall-of-fame.md         # 歴代の優秀アイデア
├── final-report.md         # 最終レポート
└── generations/
    ├── gen-01/
    │   ├── ideas.md        # この世代で生成されたアイデア一覧
    │   ├── scores.md       # 評価スコア
    │   └── survivors.md    # 生存者
    ├── gen-02/
    │   └── ...
    └── ...
```

---

## Phase 1: 大量生成（Generation）

各世代で指定数のアイデアを生成する。

### 生成ルール

1. **第1世代**: ゼロからアイデアを生成する。多様性を最優先。
   - 意図的にバラバラなジャンル・メカニクスを狙う
   - 「既存ゲームの組み合わせ」「逆転の発想」「日常の動作のゲーム化」「感情のメカニクス化」など、
     複数の発想法を意識的に切り替えて使う

2. **第2世代以降**: 前世代の生存者をベースに以下の操作を行う
   - **交配（Crossover）**: 生存者2つの要素を組み合わせた新アイデア（全体の40%）
   - **突然変異（Mutation）**: 生存者1つの核心部分をランダムに変更（全体の30%）
   - **新規個体（Immigration）**: 完全に新しいアイデア（全体の30%）
     - 新規個体は既存の流れに染まらないよう、あえて違う方向性を狙う

### アイデアの記述フォーマット

各アイデアは以下の形式で `generations/gen-XX/ideas.md` に記録する：

```markdown
## アイデア G{世代}-{番号}: {タイトル}

**出自**: 新規 / 交配(G1-2 × G1-5) / 突然変異(G1-3)

**ワンライン**: 1文で説明（エレベーターピッチ）

**コアメカニクス**: このゲームでしかできない体験は何か（2-3文）

**プレイヤー体験**: プレイヤーが感じる感情・驚き・達成感（2-3文）

**ユニーク度**: なぜ既存ゲームと違うのか（1-2文）
```

---

## Phase 2: 評価・スコアリング（Evaluation）

生成された全アイデアを以下の5軸で評価する。
詳細な評価基準は `references/evaluation-criteria.md` を参照。

| 評価軸 | 配点 | 概要 |
|--------|------|------|
| 独自性（Originality） | 50点 | 既存ゲームとの差別化度合い |
| 面白さの核（Fun Core） | 25点 | コアループが本質的に楽しいか |
| 伝わりやすさ（Communicability） | 25点 | スクショや1文で魅力が伝わるか |

### 評価の記録

`generations/gen-XX/scores.md` に以下の形式で記録する：

```markdown
## 評価: G{世代}-{番号} {タイトル}

| 評価軸 | スコア | 根拠 |
|--------|--------|------|
| 独自性 | 30/50 | ... |
| 面白さの核 | 18/25 | ... |
| 伝わりやすさ | 10/25 | ... |
| **合計** | **58/100** | |

**総評**: （2-3文の定性評価）
**最大の強み**: ...
**最大の弱み**: ...
```

### 評価時の注意

- 甘くつけない。80点以上は本当に優れたアイデアだけ
- 独自性は厳格に。「似たゲームを3つ挙げられるなら独自性は低い」
- 前世代との相対評価ではなく、絶対評価を維持する

---

## Phase 3: 淘汰・選抜（Selection）

スコア上位N個を「生存者」として選出し、`generations/gen-XX/survivors.md` に記録する。

### 選抜ルール

1. スコア上位から順に選出する
2. ただし、**多様性保証ルール**を適用する：
   - 生存者のコアメカニクスが類似している場合、下位の方を同スコア帯の別系統と入れ替える
   - 全滅を防ぐため、スコアが低くても「他と全く違う系統」のアイデアを1枠確保する
3. 殿堂入り：全世代を通じてスコア85以上のアイデアは `hall-of-fame.md` に追加

### 世代間サマリー

淘汰後、`generation-log.md` に世代サマリーを追記する：

```markdown
## 第{N}世代サマリー

- 生成数: {X}個
- スコア範囲: {min} - {max}
- 平均スコア: {avg}
- 生存者: {名前リスト}
- 淘汰: {名前リスト}
- 新傾向: （この世代で見られた新しい方向性）
- 反省: （生成・評価で気づいた改善点）
```

---

## Phase 4: ループ継続判定

以下の条件で自律的にループを継続する：

1. **指定世代数に達していない** → Phase 1 に戻る
2. **スコア90以上が出現** → 追加で1世代回して確認し、そのアイデアが依然トップなら早期終了可
3. **3世代連続でトップスコアが変わらない** → 停滞とみなし、突然変異率を60%に引き上げて1世代追加
4. **ユーザーの介入** → ユーザーがフィードバックを与えた場合、それを制約に反映して次世代に進む

### ループ中のユーザーへの報告

各世代の完了時に、簡潔に進捗を報告する：

```
🧬 第3世代完了（5世代中）
   最高スコア: 82点「タイピング浸食」
   新星: 「言葉の菌糸」(78点) が面白い方向性
   次世代: 交配4 + 突然変異3 + 新規3 で生成中...
```

報告は短く、ログファイルに詳細がある旨を添える。

---

## Phase 5: 最終レポート（Final Report）

全世代完了後、`final-report.md` を生成する。

### レポート構成

```markdown
# ゲームアイデア最終レポート

## 実行概要
- 制約条件: ...
- 総世代数: ...
- 総生成アイデア数: ...
- 最終生存者数: ...

## 🏆 最優秀アイデア

### {タイトル}
（詳細な記述。ワンライン、コアメカニクス、プレイヤー体験、
 ユニーク度に加えて、以下も追記）

**想定プレイフロー**: プレイヤーが起動してから夢中になるまでの流れ
**マネタイズ案**: （該当する場合）
**類似作品との差別化**: 具体的なタイトルとの比較
**開発ロードマップ案**: MVP → α → β の概要
**リスクと対策**: 最大のリスクとその緩和策

## 🥈 次点アイデア（2-3個）
（各アイデアの要約とスコア、最優秀との差分）

## 進化の軌跡
（世代を追ってアイデアがどう進化したかの物語的な記述）

## 没アイデア墓場（面白かったが惜しかった案）
（スコアは低いが独自性が高かったアイデアをいくつかピックアップ）
```

---

## 重要な原則

### 自律性

- ユーザーの介入なしにループを回し続ける
- 各世代の完了時に短い進捗報告のみ行い、確認を求めずに次世代に進む
- ただし「このまま進めていいですか？」とは聞かない。進める。

### 厳格な評価

- 自分が生成したアイデアに甘くならない
- 「これは面白そうだが、実は○○というゲームとほぼ同じ」と気づいたら容赦なく減点
- 評価の根拠を必ず書く。「なんとなく面白い」は禁止

### 多様性の維持

- 収束しすぎない。毎世代30%は完全新規アイデアを入れる
- 同じ系統のアイデアばかり生存しないよう多様性保証ルールを厳守
- 突然変異は大胆に。「元のアイデアの面影がほぼない」くらいでいい

### 記録の徹底

- 全ての思考・判断・スコアリングをMarkdownに記録する
- 「なぜこのアイデアが落ちたか」「なぜこれが生き残ったか」を明記
- 後から読み返して進化の過程が追えること

---

## 評価基準の詳細

詳細な評価ルーブリックは `references/evaluation-criteria.md` を参照。
スコアリングに迷ったら必ず参照すること。
